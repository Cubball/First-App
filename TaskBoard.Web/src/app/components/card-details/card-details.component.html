<app-modal extraClasses="flex justify-center items-center">
  <!-- TODO: width, height -->
  <main
    class="flex h-[80vh] min-h-60 w-[60vw] min-w-80 flex-col overflow-hidden rounded-xl bg-white text-gray-900 overflow-y-auto"
    style="scrollbar-width: none;"
  >
    <div class="bg-gray-500 text-right">
      <form method="dialog">
        <button class="px-5 py-2">
          <fa-icon [icon]="faXmark" class="text-xl text-white"></fa-icon>
        </button>
      </form>
    </div>
    <div class="flex grow">
      <article class="grow basis-[60%] p-3 md:p-5">
        <div *ngIf="card">
          <h2 class="flex items-center justify-between">
            <span class="text-xl font-bold md:text-2xl">
              {{ card.name }}
            </span>
            <button
              routerLink="/cards/{{ card.id }}/edit"
              class="rounded-md border border-gray-300 px-1.5 py-0.5 text-xs md:px-3 md:py-1 md:text-sm"
            >
              <fa-icon [icon]="faPenToSquare"></fa-icon>
              Edit
            </button>
          </h2>
          <ul class="py-2 text-xs *:py-1 md:text-sm md:*:py-2">
            <li>
              <span class="inline-block w-1/3 max-w-32 text-gray-500">
                <fa-icon [icon]="faListUl" class="mr-1"></fa-icon>
                List
              </span>
              <select
                class="rounded-md border border-gray-300 bg-gray-100 py-0.5 pl-1 pr-2 outline outline-white"
                (change)="onMoveToSelect(select.value)"
                #select
              >
                <option
                  *ngFor="let list of lists$ | async; trackBy: listTrackBy"
                  [value]="list.id"
                  [selected]="list.id === card.listId"
                >
                  {{ list.name }}
                </option>
              </select>
            </li>
            <li>
              <span class="inline-block w-1/3 max-w-32 text-gray-500">
                <fa-icon [icon]="faCalendar" class="mr-1"></fa-icon>
                Due date </span
              ><span class="inline-block">
                {{ card.dueDate | date: "ccc, d MMMM" }}
              </span>
            </li>
            <li>
              <span class="inline-block w-1/3 max-w-32 text-gray-500">
                <fa-icon [icon]="faTag" class="mr-1"></fa-icon>
                Priority </span
              ><span class="inline-block">{{ card.priority }}</span>
            </li>
          </ul>
          <h3 class="font-bold text-lg md:text-xl md:py-3 py-1.5">Description</h3>
          <p class="text-xs md:text-sm text-gray-500">
          {{card.description}}
          </p>
        </div>
      </article>
      <aside class="grow basis-[40%] bg-gray-100 p-3">
        <!-- TODO: history -->
      </aside>
    </div>
  </main>
</app-modal>
